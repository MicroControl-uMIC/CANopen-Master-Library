<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CANopen FD Master Library: EMCY service</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mc_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="mc_logo_png.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CANopen FD Master Library
   </div>
   <div id="projectbrief">Making your systems precise, reliable and high-quality - 5.10.01</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">EMCY service</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5599ac8a052e74024afa1b329eb71450"><td class="memItemLeft" align="right" valign="top">ComStatus_tv&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ComEmcy.html#ga5599ac8a052e74024afa1b329eb71450">ComEmcyConsEnable</a> (uint8_t ubNetV, uint8_t ubNodeIdV, uint8_t ubEnableV)</td></tr>
<tr class="separator:ga5599ac8a052e74024afa1b329eb71450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa175428aad7d691fa5b2c76b25d8b769"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ComEmcy.html#gaa175428aad7d691fa5b2c76b25d8b769">ComEmcyConsEventReceive</a> (uint8_t ubNetV, uint8_t ubNodeIdV)</td></tr>
<tr class="separator:gaa175428aad7d691fa5b2c76b25d8b769"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf285bfcbddfe09db477543fe911aaca1"><td class="memItemLeft" align="right" valign="top">ComStatus_tv&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ComEmcy.html#gaf285bfcbddfe09db477543fe911aaca1">ComEmcyConsGetData</a> (uint8_t ubNetV, uint8_t ubNodeIdV, uint8_t *pubDataV)</td></tr>
<tr class="separator:gaf285bfcbddfe09db477543fe911aaca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2bf4c98f05c7d557313c43ee04f058ca"><td class="memItemLeft" align="right" valign="top">ComStatus_tv&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ComEmcy.html#ga2bf4c98f05c7d557313c43ee04f058ca">ComEmcyEnable</a> (uint8_t ubNetV, uint8_t ubEnableV)</td></tr>
<tr class="separator:ga2bf4c98f05c7d557313c43ee04f058ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5f81387883138a75b614a32371814ff"><td class="memItemLeft" align="right" valign="top">ComStatus_tv&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ComEmcy.html#gaf5f81387883138a75b614a32371814ff">ComEmcyGetId</a> (uint8_t ubNetV, uint32_t *pulIdV)</td></tr>
<tr class="separator:gaf5f81387883138a75b614a32371814ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c5b2ccefd009210c47d3b84b394056c"><td class="memItemLeft" align="right" valign="top">ComStatus_tv&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ComEmcy.html#ga5c5b2ccefd009210c47d3b84b394056c">ComEmcyGetInhibit</a> (uint8_t ubNetV, uint32_t *pulTimeV)</td></tr>
<tr class="separator:ga5c5b2ccefd009210c47d3b84b394056c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Emergency (EMCY) objects are triggered by the occurrence of a device internal error situation and are transmitted from an emergency producer on the device. Emergency objects are suitable for interrupt type error alerts. An emergency object is transmitted only once per 'error event'. As long as no new errors occur on a device no further emergency objects must be transmitted. The emergency object may be received by zero or more emergency consumers. The reaction on the emergency consumer(s) is not specified. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga5599ac8a052e74024afa1b329eb71450"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5599ac8a052e74024afa1b329eb71450">&#9670;&nbsp;</a></span>ComEmcyConsEnable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ComStatus_tv ComEmcyConsEnable </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNetV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNodeIdV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubEnableV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>- CANopen Network channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNodeIdV</td><td>- Node-ID value of CANopen device </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubEnableV</td><td>- Enable/Disable EMCY service</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__ComDefs.html#ggaaf1a63ace6e9731aa0401042a518f250a69d740353de5bbc295ae32ffbd14c9ce">eCOM_ERR_NONE</a> on success, negative <a class="el" href="group__ComDefs.html#gaaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack. ">ComErr_e</a> value on failure</dd></dl>
<p>This function enables (<em>ubEnableV</em> = 1) or disables (<em>ubEnableV</em> = 0) the EMCY consumer service for a Node ID given by ubNodeIdV. </p>

</div>
</div>
<a id="gaa175428aad7d691fa5b2c76b25d8b769"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa175428aad7d691fa5b2c76b25d8b769">&#9670;&nbsp;</a></span>ComEmcyConsEventReceive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ComEmcyConsEventReceive </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNetV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNodeIdV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>- CANopen Network channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNodeIdV</td><td>- Node-ID value of CANopen device</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__ComDefs.html#ggaaf1a63ace6e9731aa0401042a518f250a69d740353de5bbc295ae32ffbd14c9ce">eCOM_ERR_NONE</a> on success, negative <a class="el" href="group__ComDefs.html#gaaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack. ">ComErr_e</a> value on failure</dd></dl>
<p>The function is called by the CANopen Master stack upon reception of an Emergency message (EMCY). The Emergency message has to be configured by <a class="el" href="group__ComEmcy.html#ga5599ac8a052e74024afa1b329eb71450">ComEmcyConsEnable()</a> in advance. </p>

</div>
</div>
<a id="gaf285bfcbddfe09db477543fe911aaca1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf285bfcbddfe09db477543fe911aaca1">&#9670;&nbsp;</a></span>ComEmcyConsGetData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ComStatus_tv ComEmcyConsGetData </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNetV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNodeIdV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pubDataV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>- CANopen Network channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNodeIdV</td><td>- Node-ID value of CANopen device </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pubDataV</td><td>- Pointer to data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__ComDefs.html#ggaaf1a63ace6e9731aa0401042a518f250a69d740353de5bbc295ae32ffbd14c9ce">eCOM_ERR_NONE</a> on success, negative <a class="el" href="group__ComDefs.html#gaaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack. ">ComErr_e</a> value on failure</dd></dl>
<p>The functions reads the data of the EMCY message from a CANopen device using the Node-ID value <em>ubNodeIdV</em>. The size of the data buffer is 8 bytes. </p>

</div>
</div>
<a id="ga2bf4c98f05c7d557313c43ee04f058ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2bf4c98f05c7d557313c43ee04f058ca">&#9670;&nbsp;</a></span>ComEmcyEnable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ComStatus_tv ComEmcyEnable </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNetV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubEnableV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>- CANopen Network channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubEnableV</td><td>- Enable/Disable EMCY service</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__ComDefs.html#ggaaf1a63ace6e9731aa0401042a518f250a69d740353de5bbc295ae32ffbd14c9ce">eCOM_ERR_NONE</a> on success, negative <a class="el" href="group__ComDefs.html#gaaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack. ">ComErr_e</a> value on failure</dd></dl>
<p>This function enables (<em>ubEnableV</em> = 1) or disables (<em>ubEnableV</em> = 0) the EMCY service of the CANopen Master. The EMCY service is enabled by default. </p>

</div>
</div>
<a id="gaf5f81387883138a75b614a32371814ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf5f81387883138a75b614a32371814ff">&#9670;&nbsp;</a></span>ComEmcyGetId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ComStatus_tv ComEmcyGetId </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNetV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pulIdV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>- CANopen Network channel </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pulIdV</td><td>- Pointer to identifier value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__ComDefs.html#ggaaf1a63ace6e9731aa0401042a518f250a69d740353de5bbc295ae32ffbd14c9ce">eCOM_ERR_NONE</a> on success, negative <a class="el" href="group__ComDefs.html#gaaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack. ">ComErr_e</a> value on failure </dd></dl>
<dl class="section see"><dt>See also</dt><dd>ComEmcySetId()</dd></dl>
<p>This function reads the identifier value used by the EMCY service. </p>

</div>
</div>
<a id="ga5c5b2ccefd009210c47d3b84b394056c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5c5b2ccefd009210c47d3b84b394056c">&#9670;&nbsp;</a></span>ComEmcyGetInhibit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ComStatus_tv ComEmcyGetInhibit </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNetV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pulTimeV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>- CANopen Network channel </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pulTimeV</td><td>- Pointer to EMCY inhibit time</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__ComDefs.html#ggaaf1a63ace6e9731aa0401042a518f250a69d740353de5bbc295ae32ffbd14c9ce">eCOM_ERR_NONE</a> on success, negative <a class="el" href="group__ComDefs.html#gaaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack. ">ComErr_e</a> value on failure </dd></dl>
<dl class="section see"><dt>See also</dt><dd>ComEmcySetInhibit()</dd></dl>
<p>This function retrieves the inhibit time between two subsequent EMCY messages. The pointer <em>pulTimeV</em> points to a variable that holds the time value in multiples of one microsecond. </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/>
<address class="footer"><small>
<a href="http://www.microcontrol.net">
&copy; MicroControl GmbH &amp; Co. KG
</a>
</small></address>
</body>
</html>
