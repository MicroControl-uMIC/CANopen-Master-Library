<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CANopen FD Master Library: SYNC Service</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mc_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="mc_logo_png.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CANopen FD Master Library
   </div>
   <div id="projectbrief">Making your systems precise, reliable and high-quality - 5.10.01</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SYNC Service</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa3ba50abc6dd35e982fed6fdae86e0ee"><td class="memItemLeft" align="right" valign="top">ComStatus_tv&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ComSync.html#gaa3ba50abc6dd35e982fed6fdae86e0ee">ComSyncEnable</a> (uint8_t ubNetV, uint8_t ubEnableV)</td></tr>
<tr class="separator:gaa3ba50abc6dd35e982fed6fdae86e0ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6402548e6add4b6a11aa9b20af264fef"><td class="memItemLeft" align="right" valign="top">ComStatus_tv&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ComSync.html#ga6402548e6add4b6a11aa9b20af264fef">ComSyncGetCounter</a> (uint8_t ubNetV, uint8_t *pubCounterV)</td></tr>
<tr class="separator:ga6402548e6add4b6a11aa9b20af264fef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga48563a7738712b89cffac6595f759633"><td class="memItemLeft" align="right" valign="top">ComStatus_tv&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ComSync.html#ga48563a7738712b89cffac6595f759633">ComSyncGetId</a> (uint8_t ubNetV, uint32_t *pulIdV)</td></tr>
<tr class="separator:ga48563a7738712b89cffac6595f759633"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6aa229c8786ab4383b12fe480fb25348"><td class="memItemLeft" align="right" valign="top">ComStatus_tv&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ComSync.html#ga6aa229c8786ab4383b12fe480fb25348">ComSyncSetId</a> (uint8_t ubNetV, uint32_t ulIdV)</td></tr>
<tr class="separator:ga6aa229c8786ab4383b12fe480fb25348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5fe8cb8c5800a9c8bed9cf402f82135d"><td class="memItemLeft" align="right" valign="top">ComStatus_tv&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ComSync.html#ga5fe8cb8c5800a9c8bed9cf402f82135d">ComSyncSetCycleTime</a> (uint8_t ubNetV, uint32_t ulTimeV)</td></tr>
<tr class="separator:ga5fe8cb8c5800a9c8bed9cf402f82135d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The Synchronisation (SYNC) Object is broadcasted periodically by the SYNC producer. This SYNC provides the basic network clock. The time period between the SYNCs is specified by the standard parameter communication cycle period (Object 1006h: Communication Cycle Period), which may be written by a configuration tool to the application devices during the boot-up process. There can be a time jitter in transmission by the SYNC producer corresponding approximately to the latency due to some other message being transmitted just before the SYNC. In order to guarantee timely access to the CAN bus the SYNC is given a very high priority identifier (1005h). </p>
<p>Devices which operate synchronously may use the SYNC object to synchronise their own timing with that of the Synchronisation Object producer. The details of this synchronisation are device dependent. </p>
<p>The generation of SYNC messages is disabled by default. The SYNC service identifier is set to 080h by default. The following code example shows how to change the default identifier to 181h and to generate SYNC messages with a cycle time of 10ms. </p><div class="fragment"><div class="line"><a class="code" href="group__ComSync.html#ga6aa229c8786ab4383b12fe480fb25348">ComSyncSetId</a>(<a class="code" href="group__ComDefs.html#gga9fcbaaae42ba2be384e65200b4eb98beaf76f82dfac87612621bd4bb5a7585d8a">eCOM_NET_1</a>, 0x181);          <span class="comment">// set new identifier</span></div><div class="line"><a class="code" href="group__ComSync.html#ga5fe8cb8c5800a9c8bed9cf402f82135d">ComSyncSetCycleTime</a>(<a class="code" href="group__ComDefs.html#gga9fcbaaae42ba2be384e65200b4eb98beaf76f82dfac87612621bd4bb5a7585d8a">eCOM_NET_1</a>, 10000);   <span class="comment">// set 10 ms cycle time</span></div><div class="line"><a class="code" href="group__ComSync.html#gaa3ba50abc6dd35e982fed6fdae86e0ee">ComSyncEnable</a>(<a class="code" href="group__ComDefs.html#gga9fcbaaae42ba2be384e65200b4eb98beaf76f82dfac87612621bd4bb5a7585d8a">eCOM_NET_1</a>, 1);             <span class="comment">// start SYNC service</span></div></div><!-- fragment --> <h2 class="groupheader">Function Documentation</h2>
<a id="gaa3ba50abc6dd35e982fed6fdae86e0ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa3ba50abc6dd35e982fed6fdae86e0ee">&#9670;&nbsp;</a></span>ComSyncEnable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ComStatus_tv ComSyncEnable </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNetV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubEnableV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>- CANopen Network channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ubEnableV</td><td>- Enable/Disable SYNC service</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__ComDefs.html#ggaaf1a63ace6e9731aa0401042a518f250a69d740353de5bbc295ae32ffbd14c9ce">eCOM_ERR_NONE</a> on success, negative <a class="el" href="group__ComDefs.html#gaaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack. ">ComErr_e</a> value on failure</dd></dl>
<p>This function enables (<em>ubEnableV</em> = 1) or disables (<em>ubEnableV</em> = 0) the SYNC service. The SYNC service is disabled by default. </p>

</div>
</div>
<a id="ga6402548e6add4b6a11aa9b20af264fef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6402548e6add4b6a11aa9b20af264fef">&#9670;&nbsp;</a></span>ComSyncGetCounter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ComStatus_tv ComSyncGetCounter </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNetV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pubCounterV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>- CANopen Network channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pubCounterV</td><td>- Pointer to SYNC counter value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__ComDefs.html#ggaaf1a63ace6e9731aa0401042a518f250a69d740353de5bbc295ae32ffbd14c9ce">eCOM_ERR_NONE</a> on success, negative <a class="el" href="group__ComDefs.html#gaaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack. ">ComErr_e</a> value on failure</dd></dl>
<p>This function reads the counter value for the SYNC service. </p>

</div>
</div>
<a id="ga48563a7738712b89cffac6595f759633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga48563a7738712b89cffac6595f759633">&#9670;&nbsp;</a></span>ComSyncGetId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ComStatus_tv ComSyncGetId </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNetV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pulIdV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>- CANopen Network channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pulIdV</td><td>- Pointer to identifier value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__ComDefs.html#ggaaf1a63ace6e9731aa0401042a518f250a69d740353de5bbc295ae32ffbd14c9ce">eCOM_ERR_NONE</a> on success, negative <a class="el" href="group__ComDefs.html#gaaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack. ">ComErr_e</a> value on failure </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__ComSync.html#ga6aa229c8786ab4383b12fe480fb25348">ComSyncSetId()</a></dd></dl>
<p>This function reads the identifier value for the SYNC service. </p>

</div>
</div>
<a id="ga5fe8cb8c5800a9c8bed9cf402f82135d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5fe8cb8c5800a9c8bed9cf402f82135d">&#9670;&nbsp;</a></span>ComSyncSetCycleTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ComStatus_tv ComSyncSetCycleTime </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNetV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ulTimeV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>- CANopen Network channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulTimeV</td><td>- cycle time</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__ComDefs.html#ggaaf1a63ace6e9731aa0401042a518f250a69d740353de5bbc295ae32ffbd14c9ce">eCOM_ERR_NONE</a> on success, negative <a class="el" href="group__ComDefs.html#gaaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack. ">ComErr_e</a> value on failure</dd></dl>
<p>This function changes the cycle time for the SYNC service. The parameter <code>ulTimeV</code> is passed as multiple of 1 microsecond.</p>
<p>Here is an example for setting the SYNC cycle time:  <div class="fragment"></div><!-- fragment --> </p>

</div>
</div>
<a id="ga6aa229c8786ab4383b12fe480fb25348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6aa229c8786ab4383b12fe480fb25348">&#9670;&nbsp;</a></span>ComSyncSetId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ComStatus_tv ComSyncSetId </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ubNetV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ulIdV</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ubNetV</td><td>- CANopen Network channel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulIdV</td><td>- Identifier value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__ComDefs.html#ggaaf1a63ace6e9731aa0401042a518f250a69d740353de5bbc295ae32ffbd14c9ce">eCOM_ERR_NONE</a> on success, negative <a class="el" href="group__ComDefs.html#gaaf1a63ace6e9731aa0401042a518f250" title="Error Codes of CANopen Master protocol stack. ">ComErr_e</a> value on failure</dd></dl>
<p>This function changes the identifier value for the SYNC service. The SYNC service must be disabled (see <a class="el" href="group__ComSync.html#gaa3ba50abc6dd35e982fed6fdae86e0ee">ComSyncEnable()</a>) prior to changing the identifier. </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/>
<address class="footer"><small>
<a href="http://www.microcontrol.net">
&copy; MicroControl GmbH &amp; Co. KG
</a>
</small></address>
</body>
</html>
